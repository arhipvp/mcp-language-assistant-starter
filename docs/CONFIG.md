# Конфигурация

Переменные окружения читаются из файла `.env`.

| Переменная | Обязательна | Описание |
|------------|-------------|----------|
| `OPENROUTER_API_KEY` | да | API‑ключ OpenRouter. |
| `OPENROUTER_TEXT_MODEL` | да | Модель для текстовых запросов. |
| `OPENROUTER_IMAGE_MODEL` | да | Модель для генерации изображений. |
| `ANKI_CONNECT_URL` | нет (по умолчанию `http://127.0.0.1:8765`) | URL сервера AnkiConnect. |
| `ANKI_DECK` | да | Название колоды Anki, куда добавлять карточки. |
| `ANKI_TAG` | нет (по умолчанию `tg-auto`) | Тег, которым помечаются карточки. |
| `TELEGRAM_BOT_TOKEN` | да | Токен Telegram‑бота. |
| `TEXT_MAX_RETRIES` | нет (по умолчанию `3`) | Максимум попыток текстовой генерации. |
| `IMAGE_MAX_RETRIES` | нет (по умолчанию `3`) | Максимум попыток генерации изображения. |
| `GENERATION_DELAY_MS` | нет (по умолчанию `0`) | Пауза между шагами `make_card` в миллисекундах. |

При отсутствии любой обязательной переменной при импорте `settings` будет
вызвано исключение `RuntimeError` с названием пропущенного ключа.
